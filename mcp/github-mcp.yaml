apiVersion: kagent.dev/v1alpha1
kind: MCPServer
metadata:
  name: github-mcp-server
  namespace: mcp
spec:
  deployment:
    args:
    - '@modelcontextprotocol/server-github'
    cmd: npx
    image: node:24-alpine3.21
    port: 3000
    secretRefs:
    - name: github-mcp-secret
  transportType: stdio
---
apiVersion: v1
data:
  GITHUB_PERSONAL_ACCESS_TOKEN: $GITHUB_PERSONAL_ACCESS_TOKEN
kind: Secret
metadata:
  name: github-mcp-secret
  namespace: mcp
type: Opaque